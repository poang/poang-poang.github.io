## Java集合

1. 集合、数据都是对多个数据进行存储操作的结构，简称Java容器

   >  存储，主要指内存层面的存储，不涉及到持久化的存储

2. 特点

   - 数组特点：
     1. 一旦初始化以后，起长度就确定了
     2. 数据定义好，其元素类型就确定了
   - 数组缺点：
     1. 一旦初始化后，其长度就不可修改
     2. 对于添加、删除、插入数据等操作，非常不便

**集合按照其存储结构可以分为两大类，分别是单列集合`java.util.Collection`和双列集合`java.util.Map`**



|----Collection接口：单列集合，用来存储一个一个的对象

​		|----List接口：存储有序的、可重复的数据。  -->“动态”数组

​			|----ArrayList、LinkedList、Vector


​		|----Set接口：存储无序的、不可重复的数据   

​			|----HashSet、LinkedHashSet、TreeSet
​                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     

|----Map接口：双列集合，用来存储一对(key - value)一对的数据   

​		|----HashMap、LinkedHashMap、TreeMap、Hashtable、Properties

## Collection常用功能

Collection是所有单列集合的父接口，因此在Collection中定义了单列集合(List和Set)通用的一些方法，这些方法可用于操作所有的单列集合。方法如下：

* `public boolean add(E e)`：  把给定的对象添加到当前集合中 。
* `public void clear()` :清空集合中所有的元素。
* `public boolean remove(E e)`: 把给定的对象在当前集合中删除。
* `public boolean contains(E e)`: 判断当前集合中是否包含给定的对象。
* `public boolean isEmpty()`: 判断当前集合是否为空。
* `public int size()`: 返回集合中元素的个数。
* `public Object[] toArray()`: 把集合中的元素，存储到数组中。

```java
import java.util.ArrayList;
import java.util.Collection;

public class CollectionDemo {
    public static void main(String[] args) {
        Collection <String> coll= new ArrayList<String>();
        coll.add("老李");
        coll.add("老王");
        coll.add("老赵");
        System.out.println(coll);
        //删除值
        coll.remove("老王");
        System.out.println(coll);
        Collection<String> coll1 = new ArrayList<String>();
        coll1.add("老庞");
        coll1.add("老余");
        //添加一个集合元素
        coll.addAll(coll1);
        System.out.println(coll);
        //Object[] toArray()转换成一个Object数组
        Object[] objects = coll.toArray();
        for (int i = 0; i < objects.length; i++) {
            System.out.println(objects[i]);
            System.out.println(coll.isEmpty());
        }
    }
}
```

## Iterator 迭代器

### Iterator 接口

在程序开发中，经常需要遍历集合中的所有元素。针对这种需求，JDK专门提供了一个接口`java.util.Iterator`。`Iterator`接口也是Java集合中的一员，但它与`Collection`、`Map`接口有所不同，`Collection`接口与`Map`接口主要用于存储元素，而`Iterator`主要用于迭代访问（即遍历）`Collection`中的元素，因此`Iterator`对象也被称为迭代器。

想要获取Collection集合，就要获取该集合迭代器完成迭代操作：

- `public Iterator iterator()`: 获取集合对应的迭代器，用来遍历集合中的元素的。

迭代的概念：

- **迭代**：即Collection集合元素的通用获取方式。在取元素之前先要判断集合中有没有元素，如果有，就把这个元素取出来，继续再判断，直到把集合中的所有元素全部取出。

Iterator接口的常用方法如下：

- `pubilc E next()`:返回迭代的下一个元素。
- `public boolean hasNext()`:如果仍有元素可以迭代，返回true。

Iterator迭代集合中的元素案例：

```java
public class IteratorTest {
    public static void main(String[] args) {
        //使用多态方式，创建对象
        Collection<String> coll = new ArrayList<String >();
        coll.add("老庞");
        coll.add("老余");
        coll.add("老猫");
        coll.add("老狗");
        //使用迭代器 每个集合对象都有自己的迭代器
        Iterator<String> iter = coll.iterator();
        while (iter.hasNext()){
            String s = iter.next();
            System.out.println(s);
        }
    }
}
```

## 增强for（for each）

它用于遍历Collection和数组。通常只进行遍历元素，不要在遍历过程中对集合元素进行增删操作。

### 遍历数组

```java
public class ForDemo {
    public static void main(String[] args) {
		int[] arr = {3,5,6,87};
       	//使用增强for遍历数组
		for(int a : arr){//a代表数组中的每个元素
			System.out.println(a);
		}
	}
}
```

### 遍历集合

```java
public class NBFor {
    public static void main(String[] args) {        
    	Collection<String> coll = new ArrayList<String>();
    	coll.add("小河神");
    	coll.add("老河神");
    	coll.add("神婆");
    	//使用增强for遍历
    	for(String s :coll){//接收变量s代表 代表被遍历到的集合元素
    		System.out.println(s);
    	}
	}
}
```

## 集合综合案例

### 案例介绍

按照斗地主的规则，完成洗牌发牌的动作。

具体规则：使用54张牌打乱顺序，三个玩家参与游戏，三人交替摸牌，每人17张牌，最后三张留作底牌。

### 案例分析

- 准备牌：

​    牌可以设计为一个ArrayList<String>,每个字符串为一张牌。

​    每张牌由花色和数字两部分著称，可以使用花色集合和数字集合嵌套迭代完成每张牌的组装。

​	牌通过Collections类的shuffle方法进行随机排序。

- 发牌

  将每个人以及底牌设计为ArrayList<String>,将最后三张牌直接存放于底牌，剩余牌通过对3取模意思发牌。

- 看牌

  打印每个集合

###  代码实现

```java
public class Poker {
    public static void main(String[] args) {
        //准备牌盒
        ArrayList<String> cardBox = new ArrayList<String>();
        ArrayList<String> colors = new ArrayList<String>();
        ArrayList<String> numbers = new ArrayList<String>();

        //制作带有花色和数字的牌
        colors.add("♠");
        colors.add("♥");
        colors.add("♣");
        colors.add("♦");
        for (int i = 2; i <= 10; i++) {
            numbers.add(i + "");
        }
        numbers.add("J");
        numbers.add("Q");
        numbers.add("K");
        numbers.add("A");


        for (String color : colors){

            for (String number : numbers){
                String card = color + number;
                cardBox.add(card);
            }
        }

        //添加大小王
        cardBox.add("大🤡");
        cardBox.add("小👻");

        //进行发牌,首先对牌盒进行打乱，然后按顺序一次摸牌
        Collections.shuffle(cardBox);
        ArrayList<String> player1 = new ArrayList<String>();
        ArrayList<String> player2 = new ArrayList<String>();
        ArrayList<String> player3 = new ArrayList<String>();
        ArrayList<String> dipai = new ArrayList<String>();

        for (int i = 0; i < cardBox.size(); i++) {
            if (i<51){
                if (i%3==0){
                    player1.add(cardBox.get(i));
                } else if (i%3==1){
                    player2.add(cardBox.get(i));
                }else {
                    player3.add(cardBox.get(i));
                }
            }else{
                dipai.add(cardBox.get(i));
            }
        }

        //查看牌
        player1.addAll(dipai);
        System.out.println("玩家1" + player1);
        System.out.println("玩家2" + player2);
        System.out.println("玩家3" + player3);
        System.out.println("底牌" + dipai);

    }
}
```

